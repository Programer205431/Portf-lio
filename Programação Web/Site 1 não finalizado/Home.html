<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <meta charset="UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Link para o arquivo CSS -->

    <link href="css.css" rel="stylesheet">
    <link href="css2.css" rel="stylesheet">
    
    <!-- Link para o arquivo JS (Javascript)--> 

    <link href="js.js" rel="stylesheet"> 
    
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

            <title>
                Site de Portfólio - Dev System
            </title>
    <style>
        
        

        
    </style>
   
</head>

<body background="white">
    <!-- Cabeçalho -->
    <header>           

        <!-- Links para fontes e ícones -->

        <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,700' rel='stylesheet' type='text/css' color="white">

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        
        
        <!-- Menu de navegação -->
       <div class="logo">         
            <img src="logo.gif" height="120" width="115">
       </div>
        <div class="content">
            

            <ul class="exo-menu">

                
                <li>

                    <a href="Home.html" >
                        
                        <i class="fas fa-home icon">

                        </i>

                        Home

                    </a>

                </li>


                <li>
                    <a href="Sobre Nós.html">

                    <i class="fa fa-user">

                    </i>

                     Sobre Nós
                     
                    </a>
                </li>

                <li>

               
               
                <!-- Item de menu "Contato" -->
                <li><a href="#"><i class="fa fa-envelope"></i> Contato</a>
                    <!-- Conteúdo da seção de Contato -->
                    <div class="contact">
                        <!-- Conteúdo da seção de Contato pode ser adicionado conforme necessário -->
                    </div>
                    </li>
                    <li>
                    <div >
                        <form action="#" method="get">
                            <input type="text" name="q" placeholder="Digite sua dúvida" required>
                            <button type="submit">
                                Pesquisar
                            </button>
                        </form>
                    </li>
                    </div>
                    </li>
                       </div>
                        
                
               
            </ul>
        </div>
    </header>

    <!-- Corpo da Página -->
    <center>
        <div class="div1">
            <!-- Seção da Página Inicial -->
            <section id="home">
                <h2></h2>


                <!-- Imagem de perfil -->


                
                <br><br><br><br> <b><font color="#5CE1E6">Abaixo está um modelo de chatbot básico feito com javascript em meu curso técnico em Análise e Desenvolvimento de Sistemas:<P>
                    perguntas para demonstração:<p>

                    </p>'Qual é o seu nome?',<p>
                    'Qual é a sua cor favorita?',<p></p>
                    
                </P></font></b>
                <!-- Breve introdução -->
                <p justify>


</p>
                
        </div>
    </center>
    <!-- Botão para abrir o chatbot -->
    <button id="open-button"><img src="u2.png" width="50" height="50"></button>

    <!-- Container do chatbot -->
    <div id="chatbot-container">
        <!-- Container das mensagens -->
        <div id="message-container"></div>

        <!-- Container de digitação e envio de mensagens -->
        <div id="input-container">
            <input type="text" id="user-input" placeholder="Digite sua mensagem..."><br><br>
            <button id="send-button">Enviar</button>
            <button id="clear-button">Limpar</button>
        </div>
    </div>

    <script>
        // Variável para rastrear o estado do chat
        var chatOpened = false;

        // Função para abrir o chatbot
        document.getElementById('open-button').addEventListener('click', function() {
            var chatbotContainer = document.getElementById('chatbot-container');
            var openButton = document.getElementById('open-button');

            // Verifica se o chatbot está aberto ou fechado
            if (chatbotContainer.style.display === 'none') {
                // Abre o chatbot e move o botão para a esquerda
                chatbotContainer.style.display = 'block';
                openButton.style.right = '365px'; // ou a largura que desejar

                // Exibe a mensagem de boas-vindas apenas se o chat estiver sendo aberto pela primeira vez
                if (!chatOpened) {
                    addMessage('Olá, Em que posso te ajudar?', 'chatbot');
                    chatOpened = true;
                }
            } else {
                // Fecha o chatbot e move o botão de volta para a posição original
                chatbotContainer.style.display = 'none';
                openButton.style.right = '20px';
            }
        });
        

        // Função para enviar mensagem quando pressionar Enter
        document.getElementById('user-input').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        });

        // Função para enviar mensagem quando clicar no botão enviar
        document.getElementById('send-button').addEventListener('click', sendMessage);

        // Função para apagar todas as mensagens
        document.getElementById('clear-button').addEventListener('click', function() {
            document.getElementById('message-container').innerHTML = '';
        });

        // Função para enviar uma mensagem
        function sendMessage() {
            var userMessage = document.getElementById('user-input').value;
            if (userMessage.trim() !== '') {
                addMessage(userMessage, 'user');
                document.getElementById('user-input').value = '';
                simulateReply(userMessage.toLowerCase());
            }
        }

        // Função para adicionar uma mensagem à caixa de mensagens
        function addMessage(message, sender) {
            var messageContainer = document.getElementById('message-container');
            var messageElement = document.createElement('div');
            
            // Adiciona a classe específica com base no remetente
            if (sender === 'user') {
                messageElement.classList.add('user-message');
            } else {
                messageElement.classList.add('chatbot-message');
            }

            // Verifica se a resposta é um link e insere como HTML se for
            if (sender === 'chatbot' && message.includes('Confira os cursos disponíveis <a href=')) {
                var linkElement = document.createElement('a');
                linkElement.href = 'https://www.vestibulinhoetec.com.br/unidades-cursos/#cursos';
                linkElement.target = '_blank';
                linkElement.textContent = 'Clique aqui para conferir os cursos disponíveis';
                messageElement.appendChild(linkElement);
            } else {
                messageElement.textContent = message;
            }

            messageContainer.appendChild(messageElement);

            // Rolando automaticamente para a última mensagem
            messageContainer.scrollTop = messageContainer.scrollHeight;
        }

        // Função para simular a resposta do chatbot
        function simulateReply(userMessage) {
            var chatbotResponse = '';

            // Perguntas sobre você
            var questions = [
                'Qual é o seu nome?',
                'Qual é a sua cor favorita?',
                
            ];

            // Respostas para cada pergunta
            var answers = [
                ['Meu nome é Delfos', 'Sou conhecido como Delfos', 'Chame-me de Delfos'],
                
                
                ['Minha cor favorita é preto', 'Gosto muito da cor preto', 'Prefiro a cor preto'],
               
            ];

            // Verifica a mensagem do usuário e define a resposta do chatbot
            for (var i = 0; i < questions.length; i++) {
                if (userMessage.includes(questions[i].toLowerCase())) {
                    var randomAnswerIndex = Math.floor(Math.random() * answers[i].length);
                    chatbotResponse = answers[i][randomAnswerIndex];
                    break;
                }
            }

            if (chatbotResponse === '') {
                // Resposta padrão caso a mensagem do usuário não corresponda a nenhuma pergunta sobre você
                chatbotResponse = 'Desculpe, não entendi. Como posso ajudar?';
            }

            addMessage(chatbotResponse, 'chatbot');
        }

            // Verifica a mensagem do usuário e define a resposta do chatbot
            if (userMessage.includes('cursos') || userMessage.includes('curso') || userMessage.includes('cursos oferecidos')) {
                chatbotResponse = 'Confira os cursos disponíveis <a href="https://www.vestibulinhoetec.com.br/unidades-cursos/#cursos" target="_blank">aqui</a>.';
            } else {
                // Resposta padrão caso a mensagem do usuário não corresponda a nenhum dos termos específicos
                chatbotResponse = 'Desculpe, não entendi. Como posso ajudar?';
            }

            addMessage(chatbotResponse, 'chatbot');
        

            // Encontrando a pergunta correspondente
            var index = questions.indexOf(userMessage);
            var reply;

            if (index !== -1) {
                // Escolhendo uma resposta aleatória
                var randomIndex = Math.floor(Math.random() * answers[index].length);
                reply = answers[index][randomIndex];
            } else {
                // Resposta padrão se a pergunta não for encontrada
                reply = 'Desculpe, não entendi. Pode reformular sua pergunta?';
            }

            // Adicionando a resposta à caixa de mensagens
            setTimeout(function() {
                addMessage(reply, 'chatbot');
            }, 500);
        
    </script>

    <!-- Rodapé da Página -->
    <footer class="footer"><center>
        &copy; 2023  Desenvolvido por Kaike Anjos.</center>
    </footer>
</body>

</html>
